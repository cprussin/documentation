import StakingCapBar from "@/components/StakingCapBar";

# Examples

This reference page provides examples of various scenarios to illustrate the Mathematical Representations of OIS.

NOTE: All the symbols used in the examples are explained in the [Mathematical Representation](/home/pyth-token/oracle-integrity-staking/mathematical-representation) section.

## Example 1: Only Publisher Stake

This example take the case one pool where the pool has stake from only the publisher.


$$
\begin{aligned}
{S^p_p} &= 100 \\
{S^d_p} &= 0 \\
{S^p} &= {S^p_p} + {S^d_p} = 100 + 0 = 100 \\
{C}_p &= 500 \\
\text{Total Amount eligible for Reward} \quad{E_p} &= min({S}_p, {C}_p) = min(500, 100) = 100 \\
\text{Reward Rate (Yearly)} \quad{r} &= 10\% \\

\text{Total Reward for one year} \quad{R_p} &= {r} \times {E_p} = 10\% \times 100 = 10 \\
\text{Publisher Reward} \quad{R^p_p} &= {r} \times min({S^p_p}, {C}_p) = 10\% \times 100 = 10 \\
\text{Delegator Reward} \quad{R^d_p} &= {R_p} - {R^p_p} = 10 - 10 = 0 \\
\end{aligned}
$$

<StakingCapBar fillPercentage={100} labelText="100" secondFillPercentage={0} secondFillLabel="0" totalLabel="50"/>

## Example 2: Publisher and Delegator Stake

This example take the case where the pool has stake from both the publisher and the delegator.

$$
\begin{aligned}
{S^p_p} &= 100 \\
{S^d_p} &= 100 \\
{S_p} &= {S^p_p} + {S^d_p} = 100 + 100 = 200 \\
{C}_p &= 500 \\
\text{Total Amount eligible for Reward} \quad{E_p} &= min({S}_p, {C}_p) = min(500, 200) = 200 \\
\text{Reward Rate (Yearly)} \quad{r} &= 10\% \\

\text{Total Reward for one year} \quad{R_p} &= {r} \times {E_p} = 10\% \times 200 = 20 \\
\text{Publisher Reward} \quad{R^p_p} &= {r} \times min({S^p_p}, {C}_p) = 10\% \times 100 = 10 \\
\text{Delegator Reward} \quad{R^d_p} &= {R_p} - {R^p_p} = 20 - 10 = 10 \\
\end{aligned}
$$

## Example 3: Publisher and Delegator Stake more than the Cap

This example take the case where the combined stake of both the publisher and the delegator exceeds the cap.

$$
\begin{aligned}
{S^p_p} &= 300 \\
{S^d_p} &= 300 \\
{S_p} &= {S^p_p} + {S^d_p} = 300 + 300 = 600 \\
{C}_p &= 500 \\
\text{Total Amount eligible for Reward} \quad{E_p} &= min({S}_p, {C}_p) = min(500, 600) = 500 \\
\text{Reward Rate (Yearly)} \quad{r} &= 10\% \\

\text{Total Reward for one year} \quad{R_p} &= {r} \times {E_p} = 10\% \times 500 = 50 \\
\text{Publisher Reward} \quad{R^p_p} &= {r} \times min({S^p_p}, {C}_p) = 10\% \times 300 = 30 \\
\text{Delegator Reward} \quad{R^d_p} &= {R_p} - {R^p_p} = 50 - 30 = 20 \\
\end{aligned}
$$

## Example 4: Introducing Delegator Fees

This example demonstrates how the delegation fee affect the reward distribution between the publisher and the delegator.

$$
\begin{aligned}
\quad{S^p_p} &= 200 \\
\quad{S^d_p} &= 300 \\
\quad{S_p} &= {S^p_p} + {S^d_p} = 200 + 300 = 500 \\
\quad{C}_p &= 500 \\
\quad{E_p} &= min({S}_p, {C}_p) = min(500, 500) = 500 \\
\quad{r} &= 10\% \\
\quad{f} &= 2\% \\

\quad{R_p} &= {r} \times {R_p} = 10\% \times 500 = 50 \\
\quad{R^p_p} &= {r} \times min({S^p_p}, {C}_p) = 10\% \times 200 = 20 \\
\quad{R^d_p} &= {R_p} - {R^p_p} = 50 - 20 = 30 \\
\text{Fee paid by Delegator} \quad{F^d_p} &= {f} \times {R^d_p} = 2\% \times 30 = 0.6 \\
\text{Final Delegator Reward} \quad{R^d_p} &= {R^d_p} - {F^d_p} = 30 - 0.6 = 29.4 \\
\text{Total Publisher Reward} \quad{R^p_p} &= {R^p_p} + {F^d_p} = 20 + 0.6 = 20.6 \\
\end{aligned}
$$

In the example, the delegator pays a 2\% fee on their rewards to the publisher. This fee is deducted from the delegator's reward and added to the publisher's reward.

## Example 5: Slashing event on the pool

This example demonstrates the impact of a slashing event on the staked PYTH tokens and rewards distributed to both the publisher and the delegator.

$$
\begin{aligned}
\quad{S^p_p} &= 300 \\
\quad{S^d_p} &= 200 \\
\quad{S_p} &= {S^p_p} + {S^d_p} = 300 + 200 = 500 \\

\text{Maximum slashing rate}\quad{z} &= 5\% \\

\text{Publisher Stake post slashing}\quad{S^p_p} &= (1 - 5\%) \times 300 = 285 \\
\text{Delegator Stake post slashing}\quad{S^d_p} &= (1 - 5\%) \times 200 = 190 \\

\end{aligned}
$$

In this example, the stake is uniformly slashed by 5\%, affecting both the publisher and the delegator. Slashing impact the total stake into the pool, regardless of the Cap.

{/* <StakingCapBar fillPercentage={50} secondFillPercentage={20} labelText="100" /> */}
